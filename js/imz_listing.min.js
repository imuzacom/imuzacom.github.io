!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){window.imzFunc={},imzFunc.listY,imzFunc.bottom,imzFunc.smoothScroll=function(e){let t=window.pageYOffset,n=e>t;setTimeout(function(){n&&t<=e?(t=t+(e-t)/20+1,window.scrollTo(0,t),setTimeout(arguments.callee,10)):!n&&t>=e?(t=t-(t-e)/20-1,window.scrollTo(0,t),setTimeout(arguments.callee,10)):window.scrollTo(0,e)},10)},imzFunc.scrollToContent=function(e){let t=document.getElementById(e.replace(/^#/,""));if(null!=t){let e=t.getBoundingClientRect().top+window.pageYOffset;imzFunc.smoothScroll(e),document.body.classList.contains("offcanvas")&&imzFunc.toggleoffcanvas()}},imzFunc.timer=null,imzFunc.checkScroll=function(){clearTimeout(imzFunc.timer),imzFunc.timer=setTimeout(function(){window.pageYOffset?document.body.classList.remove("scroll0"):document.body.classList.add("scroll0"),window.pageYOffset>=imzFunc.listY||window.pageYOffset>=imzFunc.bottom?document.body.classList.add("scrollMax"):document.body.classList.remove("scrollMax")},300)},imzFunc.chkOrient=function(){window.innerHeight>window.innerWidth?(document.body.classList.remove("landscape"),document.body.classList.add("portrait")):(document.body.classList.remove("portrait"),document.body.classList.add("landscape"))},imzFunc.toggleoffcanvas=function(){if(document.body.classList.contains("offcanvas"))document.body.classList.remove("offcanvas");else{if(document.body.classList.add("offcanvas"),/iP(hone|(o|a)d)/.test(navigator.userAgent)){let e=document.getElementsByClassName("imzMenu")[0];e.addEventListener("touchmove",function(t){let n=e.scrollTop,o=e.scrollHeight-e.offsetHeight-1;n<1?(t.preventDefault(),e.scrollTop=1):n>o&&(t.preventDefault(),e.scrollTop=o)})}}},imzFunc.scrListing=function(e){const t=e,n=t.length,o=document.getElementsByClassName("listingNavi")[0];let a;Array.prototype.forEach.call(t,function(e,t){const n=o.children[t],i=document.createElement("span"),c="section"+t;if(i.id=c,"id"===e.attr)a=document.getElementById(e.prop);else if("class"===e.attr&&(a=document.getElementsByClassName(e.prop)[0],-1!==e.prop.indexOf("hatena-module-entries-access-ranking"))){const t=n.getElementsByTagName("span")[0];if(t.classList.add("behind"),null!==e.image.match(/^\/\/([-_.!~*\'()a-zA-Z0-9;\/?:\@&=+\$,%#]+)$/))t.style.backgroundImage="url("+e.image+")";else{const e=a.getElementsByTagName("img")[0];if(void 0!==e){const n=e.getAttribute("src");t.style.backgroundImage="url("+n+")"}}}null===a&&void 0===a||a.insertBefore(i,a.firstChild),n.addEventListener("click",function(){imzFunc.scrollToContent(c)},!1)}),imzFunc.listY=Math.trunc(a.getBoundingClientRect().top);const i=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.clientHeight,document.documentElement.clientHeight);imzFunc.bottom=i-window.innerHeight,imzFunc.scrListing=function(){const e=Math.round(window.pageYOffset);let t;for(let o=0;o<n;o++){t="section"+o;const n=document.getElementById(t);if(e<Math.trunc(n.getBoundingClientRect().top)+e)break}imzFunc.scrollToContent(t)}},function(){const e=function(e){const t=document.getElementsByClassName(e),n=/https%3A%2F%2F.+\.(jpg|jpeg|gif|png|bmp)/i;Array.prototype.forEach.call(t,function(e){const t=n.exec(e.getAttribute("src"));null!==t&&e.setAttribute("src",decodeURIComponent(t[0]))})},t=function(e){let t;t="imzScrBottom"===e?['<li><a href="javascript:void(0);" onclick="imzFunc.smoothScroll(0);"><i class="blogicon-chevron-up"></i></a></li>','<li><a href="javascript:void(0);" onclick="imzFunc.scrollToContent(\'imzScrBottom\');"><i class="blogicon-chevron-down"></i></a></li>','<li><a href="/"><i class="blogicon-home"></i></a></li>']:['<li><a href="javascript:void(0);" onclick="imzFunc.smoothScroll(0);"><i class="blogicon-chevron-up"></i></a></li>','<li><a href="javascript:void(0);" onclick="imzFunc.scrListing();"><i class="blogicon-chevron-down"></i></a></li>'];const n=document.createElement("ul");for(let e=0;e<t.length;e++)n.insertAdjacentHTML("beforeend",t[e]);if(n.classList.add("imzScroll"),document.getElementById("bottom-editarea").appendChild(n),"imzScrBottom"===e){const e=document.createElement("div");e.id="imzScrBottom";const t=document.getElementsByClassName("pager")[0];void 0!==t?t.parentNode.insertBefore(e,t):document.getElementById("wrapper").appendChild(e)}},n=function(){let e=document.getElementsByTagName("iframe"),t=new RegExp("http(s)?%3A%2F%2F"+location.hostname+".+$");Array.prototype.forEach.call(e,function(e){let n=t.exec(e.src);if(null!==n){let t,o;e.src="",-1!==n[0].indexOf("entry")?(t=decodeURIComponent(n[0]).replace("entry","embed"),o=!0):(t=decodeURIComponent(n[0]),o=!1),function(e,t){return new Promise(function(n,o){const a=new XMLHttpRequest;a.open(t||"GET",e,!0),a.onload=function(){n(a.responseText)},a.onerror=function(){o(a.statusText)},a.send()})}(t).then(function(n){let a=function(e,t,n){let o,a=(new DOMParser).parseFromString(e,"text/html");if(t){let e=(o=a.getElementsByClassName("embed-wrapper")[0]).getElementsByTagName("time");void 0!==e&&e[0].removeAttribute("data-relative");let t=o.getElementsByTagName("a");Array.prototype.forEach.call(t,function(e){e.setAttribute("target","_top")})}else{let e=a.getElementsByTagName("meta"),t={},i=/og:(.+)/;for(let n=0;n<e.length;n++){let o=e[n].getAttribute("property");if(null!==o){let a=o.match(i);null!==a&&(t[a[1]]=e[n].getAttribute("content"))}}i=/(.+) - .+/,t.title=t.title.match(i)[1],t.site_url=n.split("/")[2],t.description=t.description.substr(0,100)+"...",(o=document.createElement("div")).classList.add("embed-wrapper"),o.innerHTML='<div class="embed-wrapper-inner"><div class="embed-content with-thumb"><div class="thumb-wrapper"><a href="'+n+'" target="_top"><img src="'+t.image+'" class="thumb"></a></div><div class="entry-body"><h2 class="entry-title"><a href="'+n+'" target="_top">'+t.title+'</a></h2><div class="entry-content">'+t.description+'</div></div></div><div class="embed-footer"><a href="'+n+'" target="_top"><img src="https://cdn-ak.favicon.st-hatena.com?url='+n+'" alt="'+t.site_name+'" title="'+t.site_name+'" class="favicon">'+t.site_name+'</a><img src="https://s.st-hatena.com/entry.count.image?uri='+n+'" alt="" class="star-count"><a href="http://b.hatena.ne.jp/entry/'+n+'" target="_top"><img src="https://b.hatena.ne.jp/entry/image/'+n+'" class="bookmark-count"></a></div>'}return o}(n,o,t);e.parentNode.replaceChild(a,e)}).catch(function(e){console.log(e)})}})},o=function(){if(window.matchMedia("(min-width: 768px)").matches){const e=document.documentElement.clientHeight,t=document.getElementById("box2-inner"),n=t.offsetHeight;t.style.position="sticky",t.style.top=-(n-e+110)+"px"}};void 0===window.ontouchstart&&document.body.classList.add("notouch");const a=document.body.classList,i=document.getElementById("top-editarea-inner"),c=null!==i;!function(){const e=document.getElementsByClassName("hatena-module-category")[0];if(void 0!==e){const t=e.getElementsByTagName("li"),n=new Object;Array.prototype.forEach.call(t,function(e){const t=e.children[0].textContent.split("-");if(t.length>1)if(e.children[0].textContent=t[1],n.hasOwnProperty(t[0])){let o=0;for(;void 0!==n[t[0]][o];)o++;n[t[0]][o]=e}else n[t[0]]=new Object,n[t[0]][0]=e});for(let e in n){const o=document.createDocumentFragment();let a=!1,i=0;for(;void 0!==n[e][i];)o.appendChild(n[e][i]),i++;const c=document.createElement("ul");if(c.appendChild(o),Array.prototype.forEach.call(t,function(t){-1!==t.children[0].textContent.indexOf(e)&&(t.appendChild(c),t.classList.add("parent"),a=!0)}),!a){const t=document.createElement("li");t.textContent=e,t.appendChild(c),document.getElementsByClassName("hatena-module-category")[0].getElementsByClassName("hatena-urllist")[0].appendChild(t)}}let o=document.getElementsByClassName("entry-category-link");a.contains("page-entry")||(o=document.getElementsByClassName("archive-category-link")),Array.prototype.forEach.call(o,function(e){const t=e.textContent.split("-");t.length>1&&(e.textContent=t[1])});const i=document.getElementById("top-box");if(null!==i){const e=i.getElementsByTagName("span");Array.prototype.forEach.call(e,function(e){if(0===e.classList.length){const t=e.textContent.split("-");t.length>1&&(e.textContent=t[1])}})}}}(),function(){const e=document.getElementById("blog-title-inner"),t=document.createElement("div");t.classList.add("imzMenu");const n=document.getElementsByClassName("hatena-module-search-box")[0];void 0!==n&&t.appendChild(n);const o=document.getElementsByClassName("hatena-module-category")[0];if(void 0!==o){const e=o.getElementsByTagName("a");Array.prototype.forEach.call(e,function(e){e.textContent=e.textContent.replace(/\s\(([0-9]{1,})\)/,"")}),t.appendChild(o)}const a=document.getElementById("mvtoMenu");if(null!==a){const e=a.parentNode.parentNode;t.appendChild(e)}e.appendChild(t);const i=document.createElement("a");i.setAttribute("href","javascript:void(0);"),i.setAttribute("onclick","imzFunc.toggleoffcanvas();return false;"),i.classList.add("offcanvastoggle"),document.getElementById("blog-title-inner").appendChild(i)}(),a.contains("page-entry")?(c&&function(){const e=document.getElementsByTagName("meta"),t=document.createElement("p"),n=document.createElement("img");for(let o=0;o<e.length;o++)if("image"===e[o].getAttribute("itemprop")){const a=e[o].getAttribute("content");n.setAttribute("src",a),t.appendChild(n),t.classList.add("featured-image");break}i.appendChild(t)}(),function(){const e=document.getElementsByClassName("pager")[0].getElementsByTagName("a");Array.prototype.forEach.call(e,function(e){e.innerHTML=""})}(),t("imzScrBottom"),function(){const e=document.getElementsByClassName("table-of-contents")[0];if(void 0!==e){const t=e.getElementsByTagName("a");Array.prototype.forEach.call(t,function(e){e.setAttribute("onclick","javascript:imzFunc.scrollToContent('"+e.getAttribute("href")+"')"),e.setAttribute("href","javascript:void(0)")})}}(),window.addEventListener("load",o,!1),-1===navigator.userAgent.indexOf("Trident")&&n()):a.contains("page-index")?(imzFunc.chkOrient(),window.pageYOffset||document.body.classList.add("scroll0"),e("urllist-image"),c&&function(){const t=document.getElementById("lists-data");let n=new Array;if(null!==t){t.parentNode.parentNode.style.display="none";const e="["+t.innerHTML+"]";try{n=JSON.parse(e)}catch(e){console.error()}}else{n.push({attr:"id",prop:"main",text:"最新記事",image:"bg"});const e=document.getElementById("box2").getElementsByClassName("hatena-module");let t=0;Array.prototype.some.call(e,function(e,o){const a=e.classList,i=a.values(),c=new Object;for(let o of i)if(-1!=o.indexOf("hatena-module-")||-1!=o.indexOf("category-")){if(-1!=o.indexOf("hatena-module-recent-entries")){if(a.length<=2)break;continue}c.attr="class",c.prop="hatena-module "+o;const i=e.getElementsByClassName("hatena-module-title")[0];if(void 0===i)break;c.text=i.textContent,c.image="src",n.push(c),t++;break}if(t>=3)return!0})}const o=document.createElement("ul");o.classList.add("listingNavi");const a=document.createDocumentFragment();let c;Array.prototype.forEach.call(n,function(e,t){const n=document.createElement("li"),o=document.createElement("div");o.classList.add("listing-item");const i=document.createElement("div");i.classList.add("listing-thumb");const c=document.createElement("span"),s=document.createElement("p");let l,r;if(s.classList.add("listing-title"),"id"===e.attr?l=document.getElementById(e.prop):"class"===e.attr&&(l=document.getElementsByClassName(e.prop)[0]),"bg"===e.image){if(void 0!==(r=l.getElementsByClassName("entry-thumb")[0])){const e=r.getAttribute("style");c.setAttribute("style",e)}}else if("src"===e.image){if(void 0!==(r=l.getElementsByTagName("img")[0])){const e=r.getAttribute("src");c.style.backgroundImage="url("+e+")"}}else null!==e.image.match(/^\/\/([-_.!~*\'()a-zA-Z0-9;\/?:\@&=+\$,%#]+)$/)&&(c.style.backgroundImage="url("+e.image+")");i.appendChild(c),s.textContent=e.text,o.appendChild(i),o.appendChild(s),n.appendChild(o),a.appendChild(n)}),o.appendChild(a),i.appendChild(o);const s=function(){void 0!==document.getElementsByClassName("entries-access-ranking-image")[0]?(clearTimeout(c),e("entries-access-ranking-image"),imzFunc.scrListing(n)):c=setTimeout(s,50)};s()}(),t("index"),function(){const e=document.getElementsByClassName("pager")[0];if(void 0===e)return;if(void 0!==e.getElementsByClassName("pager-prev")[0])return;const t=document.createElement("span"),n=document.referrer;""!==location.search&&(-1!==n.indexOf(location.hostname+"/?page=")?t.innerHTML='<a href="#" onClick="history.back(); return false;">前のページ</a>':t.innerHTML='<a href="/">ホーム</a>',t.classList.add("pager-prev")),e.insertBefore(t,e.firstChild)}(),document.addEventListener("scroll",imzFunc.checkScroll,{passive:!0}),window.addEventListener("resize",imzFunc.chkOrient,!1)):a.contains("page-archive")?("/archive"===location.pathname&&document.body.classList.add("page-archive-all"),c&&function(){const e=document.getElementsByClassName("archive-heading")[0];void 0!==e&&i.appendChild(e)}(),t("imzScrBottom"),window.addEventListener("load",o,!1)):t("imzScrBottom"),function(){const e=new RegExp("^http(s)?://(?!"+location.hostname+")"),t=document.getElementsByTagName("a");Array.prototype.forEach.call(t,function(t){e.test(t.href)&&t.setAttribute("target","_blank")})}()}()}]);